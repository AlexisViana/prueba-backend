<mxfile host="app.diagrams.net" agent="Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36" version="27.0.9">
  <diagram id="G61PSXjYSY7UXKI5lylf" name="Página-1">
    <mxGraphModel dx="2156" dy="776" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="KBfN5Mwhrr3EYgA2nMLM-21" value="" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="10" y="10" width="1610" height="680" as="geometry" />
        </mxCell>
        <mxCell id="vVWAhQDszHxBr26EMHnM-2" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#F5F5F5;" vertex="1" parent="1">
          <mxGeometry x="530" y="150" width="830" height="520" as="geometry" />
        </mxCell>
        <mxCell id="KBfN5Mwhrr3EYgA2nMLM-12" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.25;entryDx=0;entryDy=0;" parent="1" source="KBfN5Mwhrr3EYgA2nMLM-1" target="KBfN5Mwhrr3EYgA2nMLM-11" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="KBfN5Mwhrr3EYgA2nMLM-1" value="" style="image;aspect=fixed;html=1;points=[];align=center;fontSize=12;image=img/lib/azure2/compute/Azure_Spring_Cloud.svg;" parent="1" vertex="1">
          <mxGeometry x="820" y="242" width="68" height="68" as="geometry" />
        </mxCell>
        <mxCell id="KBfN5Mwhrr3EYgA2nMLM-2" value="" style="image;aspect=fixed;html=1;points=[];align=center;fontSize=12;image=img/lib/azure2/compute/Azure_Spring_Cloud.svg;" parent="1" vertex="1">
          <mxGeometry x="824" y="520" width="68" height="68" as="geometry" />
        </mxCell>
        <mxCell id="KBfN5Mwhrr3EYgA2nMLM-3" value="" style="image;aspect=fixed;html=1;points=[];align=center;fontSize=12;image=img/lib/azure2/compute/Azure_Spring_Cloud.svg;" parent="1" vertex="1">
          <mxGeometry x="820" y="360" width="68" height="68" as="geometry" />
        </mxCell>
        <mxCell id="vVWAhQDszHxBr26EMHnM-4" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;flowAnimation=1;" edge="1" parent="1" source="KBfN5Mwhrr3EYgA2nMLM-4" target="KBfN5Mwhrr3EYgA2nMLM-3">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="KBfN5Mwhrr3EYgA2nMLM-4" value="" style="image;aspect=fixed;html=1;points=[];align=center;fontSize=12;image=img/lib/azure2/compute/Azure_Spring_Cloud.svg;" parent="1" vertex="1">
          <mxGeometry x="590" y="360" width="68" height="68" as="geometry" />
        </mxCell>
        <mxCell id="KBfN5Mwhrr3EYgA2nMLM-5" value="&lt;span style=&quot;color: rgb(34, 34, 34); font-family: Arial, Helvetica, sans-serif; font-size: small; text-align: start; text-wrap-mode: wrap; background-color: rgb(255, 255, 255);&quot;&gt;API Gateway&lt;/span&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="610" y="428" width="100" height="30" as="geometry" />
        </mxCell>
        <mxCell id="KBfN5Mwhrr3EYgA2nMLM-6" value="microservicio-tarjetas" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="790" y="308" width="140" height="30" as="geometry" />
        </mxCell>
        <mxCell id="KBfN5Mwhrr3EYgA2nMLM-7" value="microservicio-usuarios" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="790" y="438" width="140" height="30" as="geometry" />
        </mxCell>
        <mxCell id="KBfN5Mwhrr3EYgA2nMLM-8" value="microservicio-autenticación" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="769" y="598" width="170" height="30" as="geometry" />
        </mxCell>
        <mxCell id="KBfN5Mwhrr3EYgA2nMLM-18" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="KBfN5Mwhrr3EYgA2nMLM-9" target="KBfN5Mwhrr3EYgA2nMLM-17" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="KBfN5Mwhrr3EYgA2nMLM-9" value="" style="image;aspect=fixed;html=1;points=[];align=center;fontSize=12;image=img/lib/azure2/compute/Azure_Spring_Cloud.svg;" parent="1" vertex="1">
          <mxGeometry x="1070" y="242" width="68" height="68" as="geometry" />
        </mxCell>
        <mxCell id="KBfN5Mwhrr3EYgA2nMLM-10" value="&lt;span style=&quot;color: rgba(0, 0, 0, 0); font-family: monospace; font-size: 0px; text-align: start;&quot;&gt;&lt;span style=&quot;color: rgb(0, 0, 0); font-family: Helvetica; font-size: 12px; text-align: center;&quot;&gt;microservicio-notificaciones&lt;/span&gt;%3CmxGraphModel%3E%3Croot%3E%3CmxCell%20id%3D%220%22%2F%3E%3CmxCell%20id%3D%221%22%20parent%3D%220%22%2F%3E%3CmxCell%20id%3D%222%22%20value%3D%22%22%20style%3D%22image%3Baspect%3Dfixed%3Bhtml%3D1%3Bpoints%3D%5B%5D%3Balign%3Dcenter%3BfontSize%3D12%3Bimage%3Dimg%2Flib%2Fazure2%2Fcompute%2FAzure_Spring_Cloud.svg%3B%22%20vertex%3D%221%22%20parent%3D%221%22%3E%3CmxGeometry%20x%3D%22310%22%20y%3D%2292%22%20width%3D%2268%22%20height%3D%2268%22%20as%3D%22geometry%22%2F%3E%3C%2FmxCell%3E%3C%2Froot%3E%3C%2FmxGraphModel%3E&lt;/span&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="1015" y="308" width="170" height="30" as="geometry" />
        </mxCell>
        <mxCell id="KBfN5Mwhrr3EYgA2nMLM-11" value="" style="shape=image;verticalLabelPosition=bottom;labelBackgroundColor=default;verticalAlign=top;aspect=fixed;imageAspect=0;image=data:image/png,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;" parent="1" vertex="1">
          <mxGeometry x="939" y="170" width="94.64" height="53" as="geometry" />
        </mxCell>
        <mxCell id="KBfN5Mwhrr3EYgA2nMLM-13" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1.01;entryY=0.152;entryDx=0;entryDy=0;entryPerimeter=0;" parent="1" source="KBfN5Mwhrr3EYgA2nMLM-9" target="KBfN5Mwhrr3EYgA2nMLM-11" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1054" y="276" />
              <mxPoint x="1054" y="178" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="KBfN5Mwhrr3EYgA2nMLM-14" value="Suscriptor" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="1050" y="193" width="80" height="30" as="geometry" />
        </mxCell>
        <mxCell id="KBfN5Mwhrr3EYgA2nMLM-15" value="publicador" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="840" y="188" width="80" height="30" as="geometry" />
        </mxCell>
        <mxCell id="KBfN5Mwhrr3EYgA2nMLM-16" value="RabbitMQ" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="946.3199999999999" y="218" width="80" height="30" as="geometry" />
        </mxCell>
        <mxCell id="KBfN5Mwhrr3EYgA2nMLM-17" value="Envía correos electrónicos en base a la información que llega a Rabbit al emitir una tarjeta." style="whiteSpace=wrap;html=1;verticalAlign=top;labelBackgroundColor=default;" parent="1" vertex="1">
          <mxGeometry x="1192" y="229" width="120" height="94" as="geometry" />
        </mxCell>
        <mxCell id="KBfN5Mwhrr3EYgA2nMLM-20" value="&lt;p data-end=&quot;224&quot; data-start=&quot;133&quot;&gt;&lt;strong data-end=&quot;224&quot; data-start=&quot;133&quot;&gt;Propuesta de solución para almacenamiento de objetos y envío de correos de notificación&lt;/strong&gt;&lt;/p&gt;&lt;p data-end=&quot;224&quot; data-start=&quot;133&quot;&gt;&lt;strong data-end=&quot;224&quot; data-start=&quot;133&quot;&gt;&lt;br&gt;&lt;/strong&gt;&lt;/p&gt;&lt;p style=&quot;text-align: left;&quot; data-end=&quot;595&quot; data-start=&quot;226&quot;&gt;En el microservicio de tarjetas se implementó el endpoint &lt;code data-end=&quot;340&quot; data-start=&quot;284&quot;&gt;http://localhost:8091/api/grupoexito/card/emit/{id}&lt;/code&gt;, el cual permite validar la existencia de una tarjeta mediante su identificador. A partir de esta validación, se puede construir un objeto JSON que contenga la información relevante del uso de la tarjeta (por ejemplo, usuario, valor, fecha de uso, etc.).&lt;/p&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;p style=&quot;text-align: left;&quot; data-end=&quot;904&quot; data-start=&quot;597&quot;&gt;Este objeto puede ser persistido en una base de datos relacional o NoSQL, permitiendo así mantener un historial de eventos que facilite auditorías o análisis posteriores. Posteriormente, el mismo objeto puede ser publicado en un broker de mensajería como RabbitMQ, permitiendo su envío de forma desacoplada.&lt;/p&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;p style=&quot;text-align: left;&quot; data-end=&quot;1313&quot; data-start=&quot;906&quot;&gt;Un microservicio independiente, suscrito a la cola correspondiente, sería el encargado de consumir estos mensajes y ejecutar el envío de correos electrónicos de notificación. Esta arquitectura basada en eventos permite escalar fácilmente el envío de notificaciones, mantener una separación de responsabilidades clara y ampliar el sistema a futuro para otros eventos como transacciones, recargas, o bloqueos.&lt;/p&gt;" style="whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="505" y="700" width="698" height="410" as="geometry" />
        </mxCell>
        <mxCell id="KBfN5Mwhrr3EYgA2nMLM-22" value="Ecosistema de microservicios" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="670" y="20" width="340" height="60" as="geometry" />
        </mxCell>
        <mxCell id="vVWAhQDszHxBr26EMHnM-3" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.013;entryY=0.526;entryDx=0;entryDy=0;entryPerimeter=0;flowAnimation=1;" edge="1" parent="1" source="KBfN5Mwhrr3EYgA2nMLM-4" target="KBfN5Mwhrr3EYgA2nMLM-1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="vVWAhQDszHxBr26EMHnM-5" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.011;entryY=0.449;entryDx=0;entryDy=0;entryPerimeter=0;flowAnimation=1;" edge="1" parent="1" source="KBfN5Mwhrr3EYgA2nMLM-4" target="KBfN5Mwhrr3EYgA2nMLM-2">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="vVWAhQDszHxBr26EMHnM-7" value="Redirecciona" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="670" y="360" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="vVWAhQDszHxBr26EMHnM-10" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="vVWAhQDszHxBr26EMHnM-9" target="KBfN5Mwhrr3EYgA2nMLM-4">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="vVWAhQDszHxBr26EMHnM-9" value="Cliente" style="verticalLabelPosition=bottom;html=1;verticalAlign=top;align=center;strokeColor=none;fillColor=light-dark(#000000, #0089b6);shape=mxgraph.azure.laptop;pointerEvents=1;" vertex="1" parent="1">
          <mxGeometry x="170" y="334" width="190" height="120" as="geometry" />
        </mxCell>
        <mxCell id="vVWAhQDszHxBr26EMHnM-11" value="peticion" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="400" y="360" width="60" height="30" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
